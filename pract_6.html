<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Poppins Fonts Embed from Google fonts (not necessary) -->
    <link rel="preconnect" class="https://fonts.googleapis.com" />
    <link rel="preconnect" class="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Image Gallery</title>
    <link rel="stylesheet" href="pract_6.css" />
  </head>
  <body>
    <h1>Practical 6 - Image Gallery</h1>
    <div class="container">
      <button class="item">
        <img src="assets/m4.webp" alt="BMW M4" />
        <p>BMW M4</p>
      </button>
      <button class="item">
        <img src="assets/gt3.webp" alt="Porsche" />
        <p>Porsche 911 GT3</p>
      </button>
      <button class="item">
        <img src="assets/amg.webp" alt="Merc AMG" />
        <p>Mercedes AMG</p>
      </button>
      <button class="item">
        <img src="assets/wrx.webp" alt="Subura WRX" />
        <p>Subaru WRX</p>
      </button>
      <button class="item">
        <img src="assets/mustang.webp" alt="Mustang" />
        <p>Mustang GT</p>
      </button>
      <button class="item">
        <img src="assets/r34.webp" alt="GTR" />
        <p>GTR R34</p>
      </button>
    </div>
    <div id="popup">
      <img id="popup-img" src="assets/amg.webp" alt="Merc AMG" />
    </div>
  </body>

  <script>
    const popup = document.getElementById('popup')
    const popupImg = document.getElementById('popup-img')
    const items = document.querySelectorAll('.item')

    popup.addEventListener('click', (e) => {
      if (!document.startViewTransition) {
        closePopup(e)
        return
      }
      document.startViewTransition(() => closePopup(e))
    })

    items.forEach((item) => {
      item.addEventListener('click', (e) => {
        if (!document.startViewTransition) {
          openPopup(item)
          return
        }
        document.startViewTransition(() => openPopup(item))
      })
    })

    function openPopup(item) {
      popupImg.src = item.children[0].src
      popupImg.alt = item.children[0].alt
      popup.style.display = 'grid'
    }

    function closePopup(e) {
      if (e.target === popup) popup.style.display = 'none'
    }
  </script>
</html>
